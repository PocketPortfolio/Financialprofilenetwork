(()=>{var e={};e.id=266,e.ids=[266],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},98061:e=>{"use strict";e.exports=require("node:assert")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},72254:e=>{"use strict";e.exports=require("node:buffer")},40027:e=>{"use strict";e.exports=require("node:console")},6005:e=>{"use strict";e.exports=require("node:crypto")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},42725:e=>{"use strict";e.exports=require("node:http2")},87503:e=>{"use strict";e.exports=require("node:net")},38846:e=>{"use strict";e.exports=require("node:perf_hooks")},39630:e=>{"use strict";e.exports=require("node:querystring")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},93746:e=>{"use strict";e.exports=require("node:util/types")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},41022:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>p,routeModule:()=>x,tree:()=>c}),t(92602),t(27762),t(35866);var s=t(23191),i=t(88716),o=t(37922),n=t.n(o),a=t(95231),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);t.d(r,l);let c=["",{children:["positions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,92602)),"C:\\Users\\fitne\\OneDrive\\pocket-portfolio-app\\app\\positions\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,27762)),"C:\\Users\\fitne\\OneDrive\\pocket-portfolio-app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\fitne\\OneDrive\\pocket-portfolio-app\\app\\positions\\page.tsx"],d="/positions/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/positions/page",pathname:"/positions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},44126:(e,r,t)=>{Promise.resolve().then(t.bind(t,72639))},72639:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(10326),i=t(17577),o=t.n(i),n=t(90262),a=t(27153),l=t(79179),c=t(91970),p=t(34583),d=t(87433);function u(){let{isAuthenticated:e,user:r,signInWithGoogle:t,logout:i}=(0,a.a)(),{trades:u,deleteTrade:x}=(0,n.K)(),g=o().useMemo(()=>Object.values(u.filter(e=>!e.mock).reduce((e,r)=>{let{ticker:t,qty:s,price:i,type:o,date:n}=r;if(e[t]||(e[t]={ticker:t,shares:0,avgCost:0,currentPrice:0,currentValue:0,unrealizedPL:0,unrealizedPLPercent:0,totalTrades:0,lastTradeDate:n,isMock:!1,currency:r.currency||"USD"}),"BUY"===o){let r=e[t].shares*e[t].avgCost+s*i;e[t].shares+=s,e[t].avgCost=r/e[t].shares}else e[t].shares-=s;return e[t].totalTrades+=1,e[t].lastTradeDate=n,e},{})).filter(e=>e.shares>0),[u]),h=g.map(e=>e.ticker),{data:m}=(0,d.vR)(h),f=o().useMemo(()=>g.map(e=>{let r=m?.[e.ticker];return r&&r.price&&("GBp"===r.currency?(e.currentPrice=r.price/100,e.currency="GBP"):(e.currentPrice=r.price,e.currency=r.currency),e.currentValue=e.shares*e.currentPrice,e.unrealizedPL=e.currentValue-e.shares*e.avgCost,e.unrealizedPLPercent=e.avgCost>0?e.unrealizedPL/(e.shares*e.avgCost)*100:0),e}),[g,m]),y=async e=>{try{await x(e)}catch(e){e instanceof Error&&(e.message.includes("permissions")||e.message.includes("Missing or insufficient permissions"))?alert("Unable to delete this trade. It may have been created before sign-in. Try deleting from localStorage or re-importing your data."):alert("Failed to delete trade. Please try again.")}};return e?(0,s.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",background:"var(--bg)",color:"var(--text)"},children:[s.jsx(l.Z,{title:"Positions - Pocket Portfolio",description:"View your portfolio positions and holdings"}),s.jsx(c.Z,{title:"Positions"}),(0,s.jsxs)("main",{style:{flex:1,padding:"20px",maxWidth:"1200px",margin:"0 auto",width:"100%"},children:[s.jsx("div",{style:{marginBottom:"32px"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[s.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, var(--accent-warm) 0%, #f59e0b 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px"},children:s.jsx("span",{style:{fontSize:"24px"},children:"\uD83D\uDCCA"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{style:{fontSize:"32px",fontWeight:"700",margin:"0 0 4px 0",color:"var(--text)"},children:"Portfolio Positions"}),s.jsx("p",{style:{color:"var(--muted)",fontSize:"16px",margin:0},children:"Track your investment performance and holdings"})]})]})}),0===f.length?(0,s.jsxs)("div",{style:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"12px",padding:"40px",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83D\uDCCA"}),s.jsx("h3",{style:{fontSize:"20px",marginBottom:"8px"},children:"No positions found"}),s.jsx("p",{style:{color:"var(--muted)",marginBottom:"24px"},children:"Start by adding some trades to see your positions here"}),s.jsx("a",{href:"/dashboard",style:{background:"linear-gradient(135deg, var(--accent-warm) 0%, #f59e0b 100%)",color:"white",textDecoration:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"16px",fontWeight:"600",display:"inline-block"},children:"Go to Dashboard"})]}):s.jsx(p.Z,{trades:u,positions:f,onDeleteTrade:y,onViewTrades:e=>{}})]})]}):(0,s.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",background:"var(--bg)",color:"var(--text)"},children:[s.jsx(l.Z,{title:"Positions - Pocket Portfolio",description:"View your portfolio positions and holdings"}),s.jsx(c.Z,{title:"Positions"}),s.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:(0,s.jsxs)("div",{style:{textAlign:"center"},children:[s.jsx("h1",{style:{fontSize:"24px",marginBottom:"16px"},children:"Sign in to view positions"}),s.jsx("p",{style:{color:"var(--muted)",marginBottom:"24px"},children:"Access your portfolio positions and holdings"}),s.jsx("button",{onClick:t,style:{background:"linear-gradient(135deg, var(--accent-warm) 0%, #f59e0b 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:"Sign in with Google"})]})})]})}},92602:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`C:\Users\fitne\OneDrive\pocket-portfolio-app\app\positions\page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,629,285,216,766,845,970,557],()=>t(41022));module.exports=s})();