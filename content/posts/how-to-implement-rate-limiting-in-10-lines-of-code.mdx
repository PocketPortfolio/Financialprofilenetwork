---
title: "How to Implement Rate Limiting in 10 Lines of Code"
date: "2026-01-22"
description: "Learn how to effectively implement rate limiting in your applications with just 10 lines of code to manage request flow."
tags: ["implement", "rate", "limiting"]
author: "Pocket Portfolio Team"
image: "/images/blog/how-to-implement-rate-limiting-in-10-lines-of-code.png"
pillar: "technical"
category: "how-to-in-tech"
---

Implementing rate limiting is crucial for managing the flow of requests to your application, preventing overloads and ensuring equitable resource distribution. This concise guide demonstrates how to implement basic rate limiting in just 10 lines of code using Python and Redis, a popular in-memory data structure store.

```pytho
n
import redis
import time

r = redis.Redis()
user_id = "user123"
key = f"rate_limit:{user_id}"
request_count = r.incr(key)

if request_count == 1:
    r.expire(key, 60)
if request_count > 100:
    raise Exception("Rate limit exceeded")

# Your application logic here
```

### Explanation of Key Concepts

- **Redis**: An in-memory key-value database that excels at tasks like rate limiting due to its speed and simplicity.
- **INCR and EXPIRE commands**: `INCR` increments the number of requests (hits) by a user. If it's the first hit (`request_count == 1`), we set an expiration time of 60 seconds with `EXPIRE`, starting a new window.
- **Request Count and Limit**: We limit the user to 100 requests per 60 seconds. If `request_count` exceeds 100, we raise an exception, indicating the rate limit has been exceeded.

### Quick Tip

Ensure Redis is properly installed and configured in your environment before implementing this script. Also, adjust the request limit and window size (60 seconds in the example) according to your application's needs and capacity.

### Gotcha

In a distributed system, timing issues can arise if the Redis `EXPIRE` command is not set quickly enough after the `INCR` command, potentially allowing a user to exceed their rate limit. To mitigate this, consider using Redis transactions or Lua scripts for atomicity.

Implementing rate limiting is a balance between protecting your resources and providing a smooth user experience. This simple yet effective approach helps you achieve that balance, ensuring your application remains robust and responsive under varying loads.